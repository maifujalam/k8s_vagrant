1. Disable ssh to root account: vi /etc/ssh/sshd_config
    PermitRootLogin no
    PasswordAuthentication no
   systemctl restart sshd
2. Sudo can be enabled at: /etc/sudoers
3. If PasswordAuthentication is no,then ssh-copy-id will not work.
4. no password prompt for user jim: jim ALL=(ALL) NOPASSWD: ALL
5. Edit kernal modules:-
    a. Load kernal module: modprob pcspkr
    b. List kernal modules: lsmod
    c. Blackist kernal module:-
       i. vi /etc/modprob.d/blacklist.conf
       ii. add line: blacklist sctp
                     blacklist dccp
       iii. shutdown -r now
       iv. lsmod | grep sctp
6. Get details of pors listening on: netstat -an | grep -i listen
7. Kubernetes ports:- api-server: 6443,etcd: 2379-80,kubelet: 10250,kube-controller: 10257,kube-scheduler: 10259
8. Find strace of process:-
    a. pidoff etcd
    b. strace -p 3596
    c. strace -c touch /tmp/b [summery coulumn of multiple system call]
9. SECURE COMPUTING:
    a. grep -i seccomp /boot/config-6.2.0-6-generic
    b. podman run --name tracee -it --rm   --pid=host --cgroupns=host --privileged   -v /etc/os-release:/etc/os-release-host:ro   -v /var/run:/var/run:ro   aquasec/tracee:latest
10. podman run --name whale --rm docker.io/docker/whalesay cowsay ok
11. SYSCALL:-
    a. podman run --name --rm -it whale whalesay:latest /bin/bash
    b. date -s "20 APR 2012 10:10:00"
    c. rep -i secomp /proc/1/status
    d. Seccomp modes: 0: disabled,
                      1: strict (it blocks all system calls except read,write,exit,cgrade
                      2: filtered
12. Seccomp profile default path: /var/lib/kubelet/seccomp
    a. seccompProfile:
            type: Localhost
            localhostProfile: profiles/audit.json
    b. Once pod is created,it generates syslog at /var/log/syslog
    c.
13. App armor module is enabled or not: cat /sys/module/apparmor/parameters/enabled
    Apparmor profile is loaded into the kernal or not: sudo cat /sys/kernel/security/apparmor/profiles
    App armor status: aa-status
    Install app armour: apt-get install -y apparmour-utils
    Generate app armor profile: aa-genprof /root/add_data.sh <path of script>
    Then save and finish: s and f
    Then app aprmor is loaded with this profile:
    Profile can be found at: cat /etc/apparmor.d/root.add_data.sh
    Load app armor profile: apparmor_profile /etc/apparmor.d/root.add_data.sh
    Disable with same command with -R: apparmor_profile -R /etc/apparmor.d/root.add_data.sh ad then create symlink
                                       ls -s /etc/apparmor.d/root.add_data.sh /etc/apparmor.d/disable/
14. Get capailities: getcap /usr/bin/ping
15 Get process capabilities: getpcaps 153587
16. Linux capabilities:-
    containers:
        securityContext:
            add: ["SYS_TIME"]
            drop: ["CHOWN"]
